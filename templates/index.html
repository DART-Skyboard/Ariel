<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Autumn Chat - Privacy & Login</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; }
    .hidden { display: none; }
    /* Modal overlay */
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-content {
      background: #fff;
      width: 600px; max-width: 90%;
      height: 500px; max-height: 90%;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      padding: 16px;
      box-sizing: border-box;
    }
    .modal-header {
      font-size: 1.2em;
      margin-bottom: 8px;
    }
    .scrollable {
      flex: 1;
      overflow-y: auto;
      border: 1px solid #ccc;
      padding: 8px;
      margin-bottom: 12px;
      background: #f9f9f9;
    }
    .modal-footer {
      text-align: right;
    }
    .modal-footer button {
      padding: 8px 16px;
      font-size: 1em;
      margin-left: 8px;
    }
    /* Login form */
    .login-form label {
      display: block;
      margin: 8px 0 4px;
    }
    .login-form input {
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
    }
    /* Main content placeholder */
    #main-content {
      padding: 16px;
    }
  </style>
</head>
<body>

  <!-- Privacy Policy Modal -->
  <div id="privacy-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">Privacy Policy Agreement</div>
      <div id="privacy-scroll" class="scrollable">
        <strong>DART Meadow Privacy Policy and License</strong>
        <p>Where As Such:</p>
        <p><em>DART Meadow LLC. | Radical Deepscale LLC. Privacy Policy and Licensing</em></p>
        <p><strong>Information obtained:</strong><br>
        Input provided by the Visitor or prior interactions in our network will be respectfully
        mutual and private where such is engaged. Upon Interacting with the network any
        visitor agrees to our (yourself, your group or groups as a whole) duty(ies) in ethics
        for liability outside our network.</p>
        <p>With as such, Documentation or Assets publicly shared by our Network are welcomed
        to be copied and distributed but not modified without consent so as long as you provide
        this attached License Policy with the Documents or Assets.</p>
        <p><strong>Commercial distributions</strong> are fine only where upon exercising so the
        License Policy is attached to Documents or Assets then only distributed as highlighted
        reference. When you exercise modification you must seek consent.</p>
        <p>Full policy at:<br>
        <a href="https://www.dartmeadow.com/privacy-policy" target="_blank">
        https://www.dartmeadow.com/privacy-policy</a></p>
      </div>
      <div>
        <input type="checkbox" id="agree-checkbox" disabled>
        <label for="agree-checkbox">I have read and agree to the Privacy Policy</label>
      </div>
      <div class="modal-footer">
        <button id="agree-button" disabled>I Agree</button>
      </div>
    </div>
  </div>

  <!-- Login / Sign-up Modal -->
  <div id="login-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">Welcome to Autumn</div>
      <form id="login-form" class="login-form">
        <label for="full-name">Full Name</label>
        <input type="text" id="full-name" placeholder="Your name">
        <label for="email">Email Address</label>
        <input type="email" id="email" placeholder="you@example.com">
        <label for="username">Choose a Username</label>
        <input type="text" id="username" placeholder="Chat Username">
      </form>
      <br>
      <div class="modal-footer">
        <button id="guest-button">Continue as Guest</button>
        <button id="create-button">Create Account</button>
      </div>
    </div>
  </div>

  <!-- Main Chat Container -->
  <div id="main-content" class="hidden">
    <!-- Placeholder for chat UI -->
    <h2>Welcome to Autumn Chat!</h2>
    <div>
      <p>Your chat interface goes here.</p>
    </div>
  </div>

  <script>
    // Enable checkbox and agree button when scrolled to bottom
    const scrollEl = document.getElementById('privacy-scroll');
    const checkbox = document.getElementById('agree-checkbox');
    const agreeBtn = document.getElementById('agree-button');
    scrollEl.addEventListener('scroll', () => {
      if (scrollEl.scrollTop + scrollEl.clientHeight >= scrollEl.scrollHeight) {
        checkbox.disabled = false;
        agreeBtn.disabled = !checkbox.checked;
      }
    });
    checkbox.addEventListener('change', () => {
      agreeBtn.disabled = !checkbox.checked;
    });

    agreeBtn.addEventListener('click', () => {
      document.getElementById('privacy-modal').classList.add('hidden');
      document.getElementById('login-modal').classList.remove('hidden');
    });

    // Handle login / guest
    const loginModal = document.getElementById('login-modal');
    const mainContent = document.getElementById('main-content');
    document.getElementById('create-button').addEventListener('click', () => {
      const name = document.getElementById('full-name').value;
      const email = document.getElementById('email').value;
      const user = document.getElementById('username').value;
      // TODO: send credentials securely to backend
      console.log('Creating account for', { name, email, user });
      loginModal.classList.add('hidden');
      mainContent.classList.remove('hidden');
    });
    document.getElementById('guest-button').addEventListener('click', () => {
      console.log('Continuing as guest');
      loginModal.classList.add('hidden');
      mainContent.classList.remove('hidden');
    });
  </script>

</body>
</html>

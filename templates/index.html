<!DOCTYPE html>
<html lang="en">
<head>
  <!-- or a PNG (and specifying type & sizes) -->
  <!-- Standard favicon -->
<!-- Favicon block: ensures compatibility across all devices -->
<link rel="icon" href="/static/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/static/ArielFav.png">
  
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Ariel & Autumn | Lead Edge Ash Tree Reflex</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r132/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/OrbitControls.js"></script>
<style>

   /* full‐screen video behind everything */
    #bgvid {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      z-index: -10;
      pointer-events: none;
    }

/* allow the page to scroll normally */
html, body {
  display: flex;
      flex-direction: column;
      align-items: center;
  position: relative;
  font-family: sans-serif;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;   /* prevent horizontal scrollbars */
  overflow-y: auto;     /* enable vertical scrolling */
}

/* ensure all your top-layer content floats above the video */
body > * {
  
  z-index: 1;
  /* if any of your containers have their own background, keep it,
     otherwise they’ll all be transparent over the video */
}

    


    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      max-width: 100%;
      padding: 20px;
      border-radius: 10px;
      color: white;
      background: transparent !important;
    }
    

    /* merged both canvasContainer rules */
    #canvasContainer {
      position: relative;
      width: 100%;
      height: 600px;
      margin-top: 50px;
      background: #333;
    }
    #canvasContainer canvas {
      display: block;
      width: 100%;
      height: 100%;
    }

    textarea#responseField,
    textarea#calculationResult {
      width: 80%;
      height: 150px;
      padding: 10px;
      margin-top: 20px;
      border-radius: 5px;
      background-color: whitesmoke;
      resize: none;
    }

    .buttonContainer,
    .buttonContainer2 {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-top: 10px;
    }

    h6 {
      color: white;
      margin-top: 10px;
    }

   /* Overlay */
#privacyModal {
  position: fixed;
  top: 30px;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  padding: 20px;
  overflow: auto;
}

/* Modal Window */
.modal-content {
  height: 500px;
  max-width: 700px;
  background:#1e2d39;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  font-family: 'Segoe UI', sans-serif;
}

/* Header Bar */
.modal-header {
  background: rgb(9, 103, 144);
  color: white;
  padding: 12px 20px;
  font-size: 1.1rem;
  font-weight: 600;
  text-align: center;
}

/* Modal Body */
.modal-body {
  color: white;
  padding: 18px 24px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  overflow-x: hidden;
}

/* Privacy Policy Scroll Panel */
#policyContent {
  height: 180px;
  max-height: 35vh;
  overflow-y: auto;
  background: #0e1b22;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 14px;
  font-size: 0.95rem;
  line-height: 1.5;
  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.08);
  flex-shrink: 0;
}

/* Small Instruction */
.modal-body em {
  font-size: 0.85rem;
  color: #c4c4c4;
  text-align: center;
}

/* Input Fields */
.modal-body input[type="text"],
.modal-body input[type="email"],
.modal-body input[type="password"] {
  width: 100%;
  padding: 10px;
  margin-top: 4px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 0.95rem;
  background-color: #f9f9f9;
}

/* Form Labels */
.modal-body label {
  color: #c4c4c4;
  display: block;
  margin-bottom: 12px;
  font-weight: 500;
}

/* Footer */
.modal-footer {
  padding: 16px;
  background: #1e2d39;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  border-top: 1px solid #ddd;
}

/* Buttons */
.modal-footer button {
  padding: 8px 18px;
  border: none;
  border-radius: 6px;
  background: #4d5e6a;
  color: #778c9b;
  font-weight: 500;
  cursor: not-allowed;
  transition: background 0.3s ease;
}

.modal-footer button.enabled {
  background: #175684;
  color: #47c4f1;
  cursor: pointer;
}


    /* Chat area now matches the bottom‐form styling */
    #chatContainer {
      display: none;           /* hidden until consent */
      flex-direction: column;
      width: 875px;
      padding-top: 50px;
      background: transparent !important;
    }
    #chat-header {
      text-align: center;
      margin-bottom: 30px;
    }
    #chat-header .chat-logo {
      width: 125px;
      height: 125px;
      object-fit: contain;
    }
    #messageWindow {
      height: 300px;
      border: 1px solid #ccc;
      padding: 8px;
      overflow-y: auto;
      background: whitesmoke;
      width: 80%;
      border-radius: 5px;
      
    }
    /* if you’re outputting each message in a <p> or <span>, you can be even more specific: */
#messageWindow p,
#messageWindow span {
  color: #222 !important;
}
    .buttonContainer.chat {
      margin-top: 8px;
      gap: 8px;
    }
    .buttonContainer.chat input {
      width: 400px;
      padding: 8px;
      border-radius: 5px;
    }
    .buttonContainer.chat button {
      background-color: deepskyblue;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
  

  #canvasContainer {
    position: relative;
    width: 875px;
    height: 875px;
    margin-top: 50px;
    background: transparent;
  }

  canvas {
    align-items: center;
    display: block;
    width: 100%;
    height: 100%;
    margin: 0 auto;
    
  }
  .row {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    max-width: 100%;
    --bs-gutter-x: 0;
  }
  textarea#responseField, #calculationResult {
    width: 80%;
    height: 150px;
    padding: 10px;
    margin-top: 20px;
    border-radius: 5px;
    background-color: whitesmoke;
    resize: none;
  }
  .buttonContainer, .buttonContainer2 {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
  }
  h6 {
    color: white;
  }
  label {
    margin: 8px;
  }
  #floatingMenuIcon {
    pointer-events: auto;
touch-action: manipulation;

position: fixed;  /* or absolute, if you’d rather position relative to a positioned parent */
top: 0;
left: 0;
margin: 25px;     /* now it will sit 25px in from the top-left corner */
/* remove display:flex unless you actually need it inside the icon itself */
}
#header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px;
  background-color: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3;
}
.avatar-placeholder {
  width: 150px;
  height: 150px;
  margin: 0 auto 10px;
  border-radius: 50%;
  overflow: hidden;
  position: relative;
  cursor: pointer;
}


.avatar-placeholder img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}


/* base popup is hidden until .active */
.avatar-selection-popup {
  display: none;
  position: absolute;      /* make sure this is inside a relative parent */
  top: 100px;   /* just below your icon */
  left: 235px;
  background: rgba(0, 100, 201, 0.6);
  padding: 8px;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  z-index: 1000;
  
  grid-template-columns: repeat(8, 50px);
  grid-auto-rows: 50px;
  gap: 8px;

  /* size exactly 8×8 cells */
  width: calc((50px + 8px) * 8 - 8px);   /* 8 cells + 7 gaps */
  height: calc((50px + 8px) * 8 - 8px);

  /* enable scrolling when more items */
  overflow: auto;
}

/* only show when “active” */
.avatar-selection-popup.active {
  display: grid !important;
}

/* **this** makes every avatar fill its 50×50 cell */
.avatar-selection-popup img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  cursor: pointer;
  transition: transform .15s;
}
.avatar-selection-popup img:hover {
  transform: scale(1.2);
}

#userLoginToggle {
      background-color: deepskyblue;
      color: white;
      border: none;
      padding: 6px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
  
    #ashCanvas {
      background-color: deepskyblue;
      color: white;
      border: none;
      padding: 6px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    #dartmeadow {
      background-color: deepskyblue;
      color: white;
      border: none;
      padding: 6px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    
    
    .speaker-button {
      padding-top: 25px;
      background-color: transparent;
      border: none;
      cursor: pointer;
      outline: none;
    }

    .speaker-button img {
      background-color: transparent;
      width: 65px;
      height: 65px;
    }

</style>
</head>

<body>


    <!-- full‐screen video background -->
  <video id="bgvid" autoplay muted loop playsinline>
    <source src="static/Ariel.mp4" type="video/mp4">
  </video>

  <!-- Privacy & Consent Modal -->
  <div id="privacyModal">
    <div class="modal-content">
      <div class="modal-header">
        You must agree to DART Meadow's Privacy Policy.
      </div>
      <div class="modal-body">

        <!-- Scrollable Privacy Policy -->
        <div id="policyContent">
              <!-- 🍪 Cookie/Storage blurb -->
    <p class="cookie‑blurb">
      We’ll store your acceptance in <strong>localStorage</strong> (like a cookie) so 
      you won’t see this again on this device/browser.
    </p>
          <h3>DART Meadow Privacy Policy and License</h3>
          <p><strong>Where As Such:</strong></p>
          <p>DART Meadow LLC. | Radical Deepscale LLC. Privacy Policy and Licensing</p>
          <p><strong>Information obtained:</strong><br>
            Input provided by the Visitor or prior interactions in our network will be respectfully
            mutual and private where such is engaged. Upon interacting with the network any visitor
            agrees to our (yourself, your group or groups as a whole) duty(ies) in ethics for liability
            outside our network.
          </p>
          <p><strong>With as such, Documentation or Assets publicly shared by our Network are
            welcomed to be copied and distributed but not modified without consent so as long as you
            provide this attached License Policy with the Documents or Assets.</strong>
          </p>
          <p>Commercial distributions are fine only where upon exercising so the License Policy is
            attached to Documents or Assets then only distributed as highlighted reference. When
            you exercise modification you must seek consent.
          </p>
          <p><a href="https://www.dartmeadow.com/privacy-policy" target="_blank">
            Full policy on dartmeadow.com</a>
          </p>
          <!-- sentinel at bottom -->
          <div id="policyEnd" style="width:100%;height:5px;"></div>
        </div>

        <p><em>Scroll to the bottom of the policy to enable the buttons</em></p>

        <!-- Create Account Form -->
        <div id="signupSection">
          <h5>Create Account</h5>
          <div class="row">
            <div class="col">
              <label>Username
                <input id="signupUsername" type="text" placeholder="Pick a username" disabled>
              </label>
            </div>
            <div class="col">
              <label>Name
                <input id="signupName" type="text" placeholder="Your name" disabled>
              </label>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col">
              <label>Email
                <input id="signupEmail" type="email" placeholder="you@example.com" disabled>
              </label>
            </div>
            <div class="col">
              <label>Password
                <input id="signupPassword" type="password" placeholder="Pick a password" disabled>
              </label>
            </div>
          </div>
        </div>

        <!-- Login Form -->
        <div id="loginSection" class="mt-4">
          <h5>Login</h5>
          <div class="row">
            <div class="col">
              <label>Username
                <input id="loginUsername" type="text" placeholder="Your username" disabled>
              </label>
            </div>
            <div class="col">
              <label>Password
                <input id="loginPassword" type="password" placeholder="Your password" disabled>
              </label>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button id="createBtn" disabled>Create Account</button>
        <button id="loginBtn" disabled>Login</button>
        <button id="continueBtn" disabled>Continue as Guest</button>
      </div>
    </div>
  </div>
<div id="header">
  <!-- avatar‐as menu‐icon -->
  <img id="floatingMenuIcon" src="/static/avatars/default.png"
  alt="User Avatar"
  style="width:50px;height:50px;cursor:pointer; border-radius:50%; object-fit:cover;"
/>

<!-- avatar grid popup -->
<div id="avatarSelectionPopup" class="avatar-selection-popup"></div>

   
    <div id="userMenuDropdown" style="
  display: none;
  position: fixed;
  top: 85px;
  left: 10px;
  background: dimgray;
  color: #fff;
  padding: 12px;
  border-radius: 10px;
  width: 60vw;
  max-width: 215px;
  max-height: 80vh;
  overflow-y: auto;
  overflow-x: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);

  flex-direction: column;
  pointer-events: auto;
touch-action: manipulation;
    ">
      <div class="avatar-placeholder" id="avatarPlaceholder">
        <img src="/static/avatars/default.png"
        id="userAvatar"
        alt="User Avatar"
 >
      </div>

      <!-- the popup — note it’s initially empty -->
      <div id="avatarSelectionPopup" class="avatar-selection-popup"></div>
      
  <p><strong id="menuName"></strong></p>

    <p><strong id="menuName"></strong></p>
    <p id="menuEmail" style="font-size:0.9em;"></p>
    
<!-- LOGIN / CREATE SECTION (hidden until “Log In” clicked) -->
<button id="userLoginToggle" style="display:block; width:100%; margin:8px 0;">
  Credentials
</button>

<button
  id="ashCanvas"
  style="display:block; width:100%; margin:8px 0;"
  onclick="location.href='/livemockup.html'"
>
  Ash Canvas
</button>



    <!-- Add inside <div id="userMenuDropdown"> -->
<button id="accountSettingsBtn" style="display:block; width:100%; margin:4px 0; background: deepskyblue; border:none; padding:6px; color:#fff; border-radius:5px; cursor:pointer;">Account Settings</button>
<div id="accountSettingsSection" style="display:none; margin-top:8px;">
  <hr style="border-color:#555; margin:8px 0;" />
  <!-- Change Email -->
  <h4 style="color:#fff; margin:4px 0;">Change Email</h4>
  <label style="display:block; margin:4px 0; color:#fff;">Current Password:
    <input type="password" id="currentEmailPwd" placeholder="Enter current password" style="width:100%; padding:4px; margin-top:2px;" />
  </label>
  <label style="display:block; margin:4px 0; color:#fff;">New Email:
    <input type="email" id="newEmail" placeholder="Enter new email" style="width:100%; padding:4px; margin-top:2px;" />
  </label>
  
  <button onclick="changeEmail()" style="display:block; width:100%; margin:6px 0; background: #28a745; border:none; padding:6px; color:#fff; border-radius:5px; cursor:pointer;">Change Email</button>
  <hr style="border-color:#555; margin:8px 0;" />
  <!-- Change Password -->
  <h4 style="color:#fff; margin:4px 0;">Change Password</h4>
  <label style="display:block; margin:4px 0; color:#fff;">Current Password:
    <input type="password" id="currentPwd" placeholder="Enter current password" style="width:100%; padding:4px; margin-top:2px;" />
  </label>
  <label style="display:block; margin:4px 0; color:#fff;">New Password:
    <input type="password" id="newPwd" placeholder="Enter new password" style="width:100%; padding:4px; margin-top:2px;" />
  </label>
  <button onclick="changePassword()" style="display:block; width:100%; margin:6px 0; background: #28a745; border:none; padding:6px; color:#fff; border-radius:5px; cursor:pointer;">Change Password</button>
</div>
    <button onclick="logout()" style="
      display:block; width:100%; margin:4px 0;
      background: deepskyblue; border:none; padding:6px; color:#fff;
      border-radius:5px; cursor:pointer;
    ">Log Out</button>
    <button onclick="deleteAccount()" style="
      display:block; width:100%; margin:4px 0;
      background: deepskyblue; border:none; padding:6px; color:#fff;
      border-radius:5px; cursor:pointer;
    ">Delete Account</button>
 <button
 id="dartmeadow"
 style="display:block; width:100%; margin:8px 0;"
 onclick="location.href='https://www.dartmeadow.com/'"
>
DART Meadow
</button>
  </div>
</div>
<script>
  document.getElementById('floatingMenuIcon')
    .addEventListener('click', ()=>{
      let dd = document.getElementById('userMenuDropdown');
      dd.style.display = dd.style.display==='block' ? 'none':'block';
  });
</script>
</div>
  
 <div class="DARTSound">
        <!-- Button to control audio -->
        <button id="mute" onClick="playPause()" class="speaker-button">
          <img id="speaker-icon" src="https://static.wixstatic.com/media/2451db_f3535dbdc10b4117a28832eeef15fa71~mv2.png" alt="Play">
          <audio id="backgroundMusic" src="https://static.wixstatic.com/mp3/2451db_3d232605a51744daaf4e8f0e6f8fb0a0.mp3" autoplay loop></audio>
        </button>

        <script>
          const audioElement = document.getElementById('backgroundMusic');
          const speakerIcon = document.getElementById('speaker-icon');

          function playPause() {
            if (audioElement.paused) {
              audioElement.play();
              speakerIcon.src = "https://static.wixstatic.com/media/2451db_18a14b6ce43e4412bbe3edb353b6f399~mv2.png"; // Switch to pause icon
              speakerIcon.alt = "Pause";
            } else {
              audioElement.pause();
              speakerIcon.src = "https://static.wixstatic.com/media/2451db_f3535dbdc10b4117a28832eeef15fa71~mv2.png"; // Switch to play icon
              speakerIcon.alt = "Play";
            }
          }
        </script>
      </div>

  <!-- Main Chat -->
  <div id="chatContainer">
    <div class="container">
      <div id="chat-header">
        <img
          class="chat-logo"
          src="https://raw.githubusercontent.com/DART-Skyboard/Ariel/refs/heads/main/static/avatars/ArielFire.png"
          alt="Ariel";
        />
      </div>
      <div id="messageWindow">
        <p><em>Chat will appear here…</em></p>
      </div>
      <div class="buttonContainer chat">
        <input
          type="text"
          id="chatInput"
          placeholder="Type a message…"
        />
        <button id="sendBtn">Send</button>
      </div>
    </div>
  </div>
<div id="canvasContainer">
  <canvas id="webglCanvas"></canvas>
</div>
<div class="container">
  <div class="text-center mb-4">
<img src="https://static.wixstatic.com/media/91a2cc_39a5870d05294365931999f59eeed67f~mv2.png/v1/fill/w_1080,h_1080,al_c,q_90,enc_avif,quality_auto/Project%2057%20(20250410031159).png" alt="hbird" style="max-width: 25%; height:auto;">
    <h2 style="color: white; font-weigh
